<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Fichas Generadas</title>
  <style>
    body { font-family: Arial; margin: 20px; }
    .ficha {
      border: 1px solid #ccc;
      padding: 15px;
      margin-bottom: 15px;
      border-radius: 5px;
      background-color: #f9f9f9;
    }
  </style>
</head>
<body>
  <h1>Fichas Generadas</h1>
  <div id="contenedorFichas"></div>

  <script>
    const contenedor = document.getElementById("contenedorFichas");
    const fichas = JSON.parse(localStorage.getItem("fichasRetiros") || "[]");

    if (fichas.length === 0) {
      contenedor.innerHTML = "<p>No hay fichas generadas a√∫n.</p>";
    } else {
      fichas.forEach((ficha, i) => {
        const div = document.createElement("div");
        div.className = "ficha";
        div.innerHTML = `
          <p><strong>Libro:</strong> ${ficha.libro.titulo} (${ficha.libro.id})</p>
          <p><strong>Autor:</strong> ${ficha.libro.autor}</p>
          <p><strong>Alumno:</strong> ${ficha.alumno.nombre}</p>
          <p><strong>DNI:</strong> ${ficha.alumno.dni}</p>
          <p><strong>Curso:</strong> ${ficha.alumno.curso}</p>
          <p><strong>Fecha de retiro:</strong> ${ficha.fecha}</p>
        `;
        contenedor.appendChild(div);
      });
    }
  </script>
</body>
</html>
